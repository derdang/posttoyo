###################################
#
# THE OLD GODS
# - Zoroastrian Events
#
###################################

# Written by Henrik Eklund

namespace = TOG
namespace = ZOR

# The Stone Immortal
narrative_event = {
	id = TOG.6000
	title = EVTNAME_TOG_6000
	desc = EVTDESC_TOG_6000
	picture = GFX_evt_imam
	border = GFX_event_narrative_frame_religion

	is_triggered_only = yes # become_saoshyant, realm_decisions.txt
	hide_from = yes


	option = {
		name = EVTOPTA_TOG_6000

		any_player = {
			limit = { NOT = { character = ROOT } }
			narrative_event = { id = TOG.6003 }
		}
	}
}

# Children gains Stone Immortal Descendant trait from Stone Immortal
character_event = {
	id = TOG.6001

	is_triggered_only = yes # on_birth, become_saoshyant, TOG.6001, RIP.21991 (rip_eternal_life_events)
	hide_window = yes

	has_dlc = "The Old Gods"
	has_global_flag = stone_immortal_appears

	trigger = {
		any_close_relative = {
			is_parent_of = ROOT

			OR = {
				trait = stone_immortal
				trait = stone_immortal_descendant
			}
		}

		NOT = { trait = stone_immortal_descendant }
	}

	immediate = {
		add_trait = stone_immortal_descendant

		any_child = {
			character_event = { id = TOG.6001 }
		}
	}
}

# The Stone Immortal Major
narrative_event = {
	id = TOG.6003
	title = EVTNAME_TOG_6000
	desc = EVTDESC_TOG_6003
	picture = GFX_evt_mass_crusade
	border = GFX_event_narrative_frame_religion

	is_triggered_only = yes
	major = yes

	option = {
		name = {
			text = EVTOPTA_TOG_6003
			trigger = { religion_group = christian }
		}
		name = {
			text = EVTOPTB_TOG_6003
			trigger = {
				NOR = {
					religion_group = christian
					religion_group = eastern
				}
			}
		}
		name = {
			text = EVTOPTC_TOG_6003
			trigger = { religion_group = eastern }
		}
	}
}


